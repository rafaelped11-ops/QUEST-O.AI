
{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the application, storing basic profile information and preferences.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "themePreference": {
          "type": "string",
          "description": "User's preferred theme (e.g., light or dark)."
        }
      },
      "required": [
        "id",
        "email"
      ]
    },
    "Questionnaire": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Questionnaire",
      "type": "object",
      "description": "Represents a generated questionnaire, storing its settings and associated questions.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the questionnaire."
        },
        "name": {
          "type": "string",
          "description": "Custom name for the questionnaire."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. The user who generated this questionnaire."
        },
        "creationDate": {
          "type": "string",
          "description": "Date and time when the questionnaire was created.",
          "format": "date-time"
        },
        "questionType": {
          "type": "string",
          "description": "The type of questions in the questionnaire."
        },
        "score": {
          "type": "number",
          "description": "The user score in this questionnaire."
        }
      },
      "required": [
        "id",
        "userId",
        "creationDate",
        "questionType"
      ]
    },
    "Question": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Question",
      "type": "object",
      "description": "Represents a single question within a questionnaire.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the question."
        },
        "questionnaireId": {
          "type": "string",
          "description": "Reference to Questionnaire. The questionnaire this question belongs to."
        },
        "text": {
          "type": "string",
          "description": "The text of the question."
        },
        "correctAnswer": {
          "type": "string",
          "description": "The correct answer to the question."
        },
        "justification": {
          "type": "string",
          "description": "Justification for the correct answer."
        }
      },
      "required": [
        "id",
        "questionnaireId",
        "text",
        "correctAnswer",
        "justification"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/backend/entities/User" },
      "description": "User profile data."
    },
    "/users/{userId}/questionnaires/{questionnaireId}": {
      "schema": { "$ref": "#/backend/entities/Questionnaire" },
      "description": "User study history."
    }
  }
}
